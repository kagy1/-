# 排队叫号流程

1. 请写出排队叫号相关服务部署的简易流程

   配置数据库

   在流程配置中导入排队叫号

   在小屏，大屏上，诊间屏上安装apk

   老his排队叫号处配置 门诊排队屏，诊室叫号机，统一叫号器，签到机 ip

   门诊排队屏又分为小屏，大屏，诊间屏

   在分诊界面通过管理员账号配置医院需要进行排队叫号的科室

​	





2.  请列出排队叫号为及的相关表及视图，并说明其作用

​	his.pat_line_room	// 排队诊室信息

​	his.pat_info	// 存储患者详细信息

​	his.pat_line	// 存储病人排队的详细信息

​	his.fun_row_split

​	his.v_pdjh	// 排队叫号视图,整合了排队叫号相关信息

​	his.v_patinfo		// 存储患者基本信息的视图

​	his.OUTPAT_CLIVISIT_RECORD

​	dictmanage.dict_outpat_clinic		// 存储门诊诊室字典信息

​	dictmanage.dict_linetype	// 存储排队类型信息

​	dictmanage.dict_depart		// 存储科室字典信息

​	dictmanage.dict_empe		// 存储医生字典信息

​	dictmanage.DICT_LINETYPE

​	dictmanage.dict_zjpmachine_relationship	// 存储诊室叫号机器与IP的关联关系,用于根据IP查询对应的诊室叫号机器



3. 如果分诊界面需要读取社保卡、电子凭证，要额外进行哪些工作

   



4. 简要叙述统一叫号器的配置方式

   功能模块>>>老his排队叫号>>>新增统一叫号器

   输入设备ip

   点击编辑

   通过ip:8094/client_uid查询 该设备client_uid并写入

   安装并设置叫号语音包，一般使用huihui

   配置队列

   

5. 如何修改设置签到或分诊过程中的 自动优先的条件

   存在两处，分别在排队叫号的流程设计的add2Queue和outpat_sign签到处

   查询患者信息表(his.pat_info)，判断指定患者(pat_id)是否属于特殊关照患者。

   

6. 在本系统中，候诊、等待就诊、正在就诊。回诊、优先就诊 等状态 在流程中的作用

   1. 候诊队列(hz_list):

   - 包含已经呼叫进入诊室准备就诊的患者
   - 根据前一个候诊患者是否需要回诊,以及当前候诊队列人数,从排队的患者中选择下一个进入候诊的患者
   - 限制最多3人同时在候诊状态

   2. 主候诊队列(main_list):

   - 按照正常顺序排队等待就诊的患者列表
   - 在优先和回诊患者处理完后,从该队列中选择患者进入候诊

   3. 回诊队列(backpat_list):

   - 之前就诊后,医生要求回诊复查的患者列表
   - 有回诊需求的患者,会优先于主候诊队列中的患者,被呼叫进入候诊

   4. 优先队列(yx_list):

   - 需要优先就诊的患者列表
   - 优先级最高,会最先被呼叫进入候诊

   5. 正在就诊(patstatus=0):

   - 已经被呼叫进入诊室就诊的患者状态
   - 每次呼叫新的候诊患者时,会将之前正在就诊的患者状态改为就诊完成

   

​		

7. 简要说明 线上更新、发布过程中的注意事项，及处理方案

   先在本地环境测试一下流程是否正确，在更新到正式环境时先复制原流程，在替换后发现错误立刻替换回去



8. 假使 接队叫号信息不限制从挂号信息中获取，按照现场排队分诊进行队列设置，简易说明需如何配置